<!DOCTYPE html>
<html lang="en">
<head>
    <!-- 初始設定，請自行修改title，及添加js連結 -->
    @@include('layout/head.html')
    <title>遊戲</title>
    <link rel="stylesheet" href="css/game.css">
</head>
<body>
    <!-- <header></header> -->
    @@include('layout/header.html')

    <main>
        <!-- 測驗說明 -->
        <section class="text_ill">
            <h2>測驗說明</h2>
            <div class="txt">
                <p>不同人格，收納習慣也大不同</p>
                <p>你是收納苦手嗎？</p>
                <p>來找出你的收納昆蟲人格吧！</p>
            </div>
            <div class="pic">
                <img src="https://cdn-icons-png.flaticon.com/512/57/57213.png">
                <img src="https://cdn-icons-png.flaticon.com/128/64/64797.png">
                <img src="https://cdn-icons-png.flaticon.com/512/128/128236.png">
            </div>
            <div class="pic">
                <img src="https://cdn-icons-png.flaticon.com/128/64/64791.png">
                <img src="https://cdn-icons-png.flaticon.com/512/35/35444.png">
            </div>
            <div class="txt">
                <p>點選物件放置在框線中，或丟棄於垃圾桶。</p>
            </div>
            <div class="pic">
                <img src="https://cdn-icons-png.flaticon.com/512/57/57213.png">
            </div>
            <div class="txt">
                <p>點選物件放置在框線中，或丟棄於垃圾桶。</p>
            </div>
            <button class="btn_btn bl" id="gamestart">開始測驗</button>
        </section>

        <!-- 關閉說明視窗 -->
        <script>
            function switch_light(){ //燈箱開關
                $('.text_ill').css('display','none');
            };
          
            $(document).ready(function(){
                $('#gamestart').click(switch_light);
            });
        </script>


        <!-- 遊戲 -->
        <section class="text_game">
            <div class="pull">
                <div class="pullbox_group">
                    <div class="pullbox"></div>
                    <div class="pullbox"></div>
                    <div class="pullbox"></div>
                    <div class="pullbox"></div>
                    <div class="pullbox"></div>
                    <div class="pullbox"></div>
                    <div class="pullbox"></div>
                    <div class="pullbox"></div>
                    <div class="pullbox"></div>
                    <div class="pullbox"></div>
                    <div class="pullbox"></div>
                    <div class="pullbox"></div>
                    <div class="pullbox"></div>
                    <img id="door" src="../img/game_room_door.png">
                    <img id="pull_arrow" src="https://cdn-icons-png.flaticon.com/512/64/64797.png">
                </div>
            </div>

            <input type="checkbox" id="open_trashcan">
            <label id="trashcan" for="open_trashcan">
                <ul class="garbage">
                    <!-- <li></li> -->
                </ul>
                <div class="pic">
                    <img src="../img/game_trashcan1.png">
                    <img src="../img/game_trashcan0.png">
                </div>
            </label>
                    
            <div class="push">
                <div class="item_group">
                    <label>
                        <input type="radio" name="item">
                        <img src="https://cdn-icons-png.flaticon.com/128/57/57377.png" alt="">
                    </label>
                    <label>
                        <input type="radio" name="item">
                        <img src="https://cdn-icons-png.flaticon.com/128/57/57274.png" alt="">
                    </label>
                    <label>
                        <input type="radio" name="item">
                        <img src="https://cdn-icons-png.flaticon.com/512/57/57350.png" alt="">
                    </label>
                    <label>
                        <input type="radio" name="item">
                        <img src="https://cdn-icons-png.flaticon.com/128/57/57337.png" alt="">
                    </label>
                    <label>
                        <input type="radio" name="item">
                        <img src="https://cdn-icons-png.flaticon.com/128/58/58000.png" alt="">
                    </label>
                    <label>
                        <input type="radio" name="item">
                        <img src="https://cdn-icons-png.flaticon.com/128/58/58188.png" alt="">
                    </label>
                    <label>
                        <input type="radio" name="item">
                        <img src="https://cdn-icons-png.flaticon.com/128/53/53616.png" alt="">
                    </label>
                    <label>
                        <input type="radio" name="item">
                        <img src="https://cdn-icons-png.flaticon.com/512/57/57392.png" alt="">
                    </label>
                    <label>
                        <input type="radio" name="item">
                        <img src="https://cdn-icons-png.flaticon.com/128/57/57363.png" alt="">
                    </label>
                    <label>
                        <input type="radio" name="item">
                        <img src="https://cdn-icons-png.flaticon.com/128/35/35489.png" alt="">
                    </label>
                    <label>
                        <input type="radio" name="item">
                        <img src="https://cdn-icons-png.flaticon.com/512/288/288686.png" alt="">
                    </label>
                    <input class="btn_sub bl" type="button" value="完成放置" disabled>
                </div>
            </div>
        </section>
        <!-- 遊戲拖曳 -->
        <!-- 動態寬度 -->
        <script>
            $(function () {
                // 開關門
                $('#door').on('click',function(){
                    $('#door').toggleClass('open');
                    $('#pull_arrow').css('display','none');
                });

                // 放置
                $('.pullbox_group .pullbox').on('click',function(){
                    if(!($(this).html()) && $('.item_group input:checked').length) {
                        // 條件:位置為空，且有選擇物品
                        $(this).append($('.item_group input:checked').parent());
                    }else if($(this).html()){
                        // 條件:位置上已有物品
                        $(this).children().prependTo($('.item_group'));
                    };
                    
                    // 送出按鈕disabled切換
                    if($('.item_group label').length==0) {
                        $('.item_group > input').attr('disabled',false);
                        $('.item_group > input').addClass('rd');
                        $('.item_group > input').removeClass('bl');
                    }else if($('.item_group label').length>0){
                        $('.item_group > input').attr('disabled',true);
                        $('.item_group > input').addClass('bl');
                        $('.item_group > input').removeClass('rd');
                    };
                });
                // 丟棄
                $('#trashcan').on('click',function(){
                    if($('.item_group input:checked').length >= 0) {
                        // 條件:有選擇物品，丟進垃圾桶
                        $('#trashcan ul').append(
                            $('<li/>').append($('.item_group input:checked').parent())
                        );
                        if($('#open_trashcan').prop('checked')){
                            $('#open_trashcan').attr('checked',false);
                        }else if(!$('#open_trashcan').prop('checked')){
                            $('#open_trashcan').attr('checked',true);
                        };
                    };
                    // 送出按鈕disabled切換
                    if($('.item_group label').length==0) {
                        $('.item_group > input').attr('disabled',false);
                        $('.item_group > input').addClass('rd');
                        $('.item_group > input').removeClass('bl');
                    }else if($('.item_group label').length>0){
                        $('.item_group > input').attr('disabled',true);
                        $('.item_group > input').addClass('bl');
                        $('.item_group > input').removeClass('rd');
                    };
                    // 撿回垃圾
                    $('.garbage li').on('click',function(){
                        $(this).children().prependTo($('.item_group'));
                    });
                });
            });
        </script>
        <!-- 測驗結果 -->
        <section class="text_result">
            
        </section>

    </main>

</body>
</html>